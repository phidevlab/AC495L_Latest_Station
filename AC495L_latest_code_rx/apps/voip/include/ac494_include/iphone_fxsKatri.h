/****************************************************************************
*
*    	Company: 			Audiocodes Ltd.
*
*    	Project: 			VoPP SoC
*
*    	Hardware Module: 	AC4xx.
*
*    	File Name:
*
*		Creation Date:
*
*    	Last Update By:
*
*****************************************************************************
*
* 		DESCRIPTION:
*
******************************************************************************/

#ifndef	__IPHONE_FXS_KATRI_h
#define	__IPHONE_FXS_KATRI_h


/****************************************************************************
*
*	Name:		startFxsKatri
*----------------------------------------------------------------------------
*	Abstract:	start a thread with forever loop to detect on/off hook (by interrupt)
*----------------------------------------------------------------------------
*	Input:		none
*----------------------------------------------------------------------------
*  	Output:		none
*----------------------------------------------------------------------------
*	Returns: 	
******************************************************************************/
void *startFxsKatri(void);


/****************************************************************************
*
*	Name:		fxsfxo_ringingThread
*----------------------------------------------------------------------------
*	Abstract:   loop forever loop, call the toggle routine to start a ringing, update the state by a signal
*----------------------------------------------------------------------------
*	Input:      none
*----------------------------------------------------------------------------
*  	Output:		none
*----------------------------------------------------------------------------
*	Returns: 	none
******************************************************************************/
void fxsfxo_ringingThread(void);


/****************************************************************************
*
*	Name:		fxsfxoToggleRing
*----------------------------------------------------------------------------
*	Abstract:	this is the toggle ring rouitne, its handle to timers that sets the ring up and down at a toggle mode
*----------------------------------------------------------------------------
*	Input:		none
*----------------------------------------------------------------------------
*  	Output:		none
*----------------------------------------------------------------------------
*	Returns: 	success = 0
******************************************************************************/
int fxsfxoToggleRing(int line);


/****************************************************************************
*
*	Name:		fxsfxo_sig_handler
*----------------------------------------------------------------------------
*	Abstract:	handler for an fxsfxo signal (interrupt)
*----------------------------------------------------------------------------
*	Input:		none
*----------------------------------------------------------------------------
*  	Output:		none
*----------------------------------------------------------------------------
*	Returns: 	success = 0
******************************************************************************/
void fxsfxo_sig_handler(int arg);
 

/****************************************************************************
*
*	Name:		fxsfxoCmd
*----------------------------------------------------------------------------
*	Abstract:	set a cmd to the analog telephone
*----------------------------------------------------------------------------
*	Input:		line - telephone index to ring
*				mode - 0 = off, 1 = on
*----------------------------------------------------------------------------
*  	Output:		none
*----------------------------------------------------------------------------
*	Returns: 	success = 0
******************************************************************************/
void fxsfxoCmd(int line, int mode);


#endif /* __IPHONE_FXS_KATRI_h */






